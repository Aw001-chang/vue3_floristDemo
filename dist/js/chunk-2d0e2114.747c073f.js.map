{"version":3,"sources":["webpack:///./src/views/Checkout.vue","webpack:///./src/views/Checkout.vue?5bca"],"names":["class","_createElementVNode","type","_hoisted_45","_createVNode","_component_Loading","active","$data","_hoisted_4","_hoisted_8","_toDisplayString","onClick","$options","_hoisted_13","_createElementBlock","_Fragment","_renderList","products","item","key","id","src","product","imageUrl","alt","title","price","qty","total","_hoisted_24","onSubmit","_hoisted_26","placeholder","value","user","email","disabled","_hoisted_29","name","_hoisted_32","tel","_hoisted_35","address","_hoisted_38","rows","message","_hoisted_41","is_paid","_hoisted_46","inject","data","orderId","order","isLoading","methods","getOders","this","api","$http","get","then","res","copyOrderId","navigator","clipboard","writeText","emitter","emit","style","payOrder","post","console","log","success","created","$route","params","__exports__","render"],"mappings":"kJAEOA,MAAM,oC,GACJA,MAAM,8B,GACJA,MAAM,a,22BA0BJA,MAAM,sC,EACTC,gCAGM,OAHDD,MAAM,wDAAsD,CAC/DC,gCAA0C,OAArCD,MAAM,sBAAqB,QAChCC,gCAAqE,QAA/DD,MAAM,+BAA8B,0BAF5C,G,GAIKA,MAAM,wD,GACJA,MAAM,8B,GAIVA,MAAM,oC,GACJA,MAAM,6C,EACTC,gCAAyD,OAApDD,MAAM,qCAAoC,QAAI,G,GAE5CA,MAAM,S,aAGNA,MAAM,mB,GACJA,MAAM,4B,GACJA,MAAM,uB,GAERA,MAAM,gB,GAYRA,MAAM,4B,GAIRA,MAAM,Y,GACJA,MAAM,4B,GAGVA,MAAM,uB,EACTC,gCAAkF,OAA7ED,MAAM,6DAA4D,SAAK,G,GAErEA,MAAM,Q,EACTC,gCAEQ,SAFDD,MAAM,sBAAoB,8BAAC,SAChCC,gCAAkC,QAA5BD,MAAM,eAAc,OAD5B,G,eAKGA,MAAM,Q,EACTC,gCAEQ,SAFDD,MAAM,sBAAoB,8BAAC,UAChCC,gCAAkC,QAA5BD,MAAM,eAAc,OAD5B,G,eAKGA,MAAM,Q,EACTC,gCAEQ,SAFDD,MAAM,sBAAoB,8BAAC,UAChCC,gCAAkC,QAA5BD,MAAM,eAAc,OAD5B,G,eAKGA,MAAM,Q,EACTC,gCAEQ,SAFDD,MAAM,sBAAoB,8BAAC,UAChCC,gCAAkC,QAA5BD,MAAM,eAAc,OAD5B,G,eAKGA,MAAM,Q,EACTC,gCAA4C,SAArCD,MAAM,sBAAqB,MAAE,G,eAGjCA,MAAM,Q,EACTC,gCAA8C,SAAvCD,MAAM,sBAAqB,QAAI,G,SACXA,MAAM,c,SACrBA,MAAM,gB,SAEfA,MAAM,oB,EACTC,gCAA0D,UAAlDC,KAAK,SAASF,MAAM,kBAAiB,QAAI,G,GAAjDG,G,6JA3GdC,yBAAuCC,EAAA,CAA7BC,OAAQC,aAAS,mBAC3BN,gCAiHM,MAjHN,EAiHM,CAhHJA,gCA+GM,MA/GN,EA+GM,CA9GJA,gCA6GM,MA7GN,EA6GM,CA5GJO,EAyBAP,gCASM,MATN,EASM,CARJQ,EAIAR,gCAGM,MAHN,EAGM,CAFJA,gCAAyD,MAAzD,EAAyDS,6BAAfH,WAAO,GACjDN,gCAAuG,UAA/FC,KAAK,SAAUS,QAAK,eAAEC,cAAYL,YAAUP,MAAM,+BAA8B,cAG5FC,gCAwEM,MAxEN,EAwEM,CAvEJA,gCA6BM,MA7BN,EA6BM,CA5BJY,GA4BI,2BA3BJC,gCAuBMC,cAAA,KAAAC,wBAvB6DT,QAAMU,SAAdC,I,yBAA3DJ,gCAuBM,OAvBDd,MAAM,yCAAyEmB,IAAKD,EAAKE,IAA9F,CACEnB,gCAEM,MAFN,EAEM,CADJA,gCAAyC,OAAnCoB,IAAKH,EAAKI,QAAQC,SAAUC,IAAI,IAAtC,YAEFvB,gCAeM,MAfN,EAeM,CAdJA,gCAEM,MAFN,EAEM,CADJA,gCAA6D,MAA7D,EAA6DS,6BAA1BQ,EAAKI,QAAQG,OAAK,KAEvDxB,gCAA+D,MAA/D,EAA0B,OAASS,6BAAEQ,EAAKI,QAAQI,OAAK,KAYzDzB,gCAEM,MAFN,EAAsC,KACnCS,6BAAEQ,EAAKS,KAAG,OArBf,MAwBA1B,gCAEM,MAFN,EAEM,CADJA,gCAA6E,MAA7E,EAAsC,WAAkBS,6BAAEH,QAAMqB,OAAK,OAGzE3B,gCAwCM,MAxCN,EAwCM,CAvCJ4B,EACA5B,gCAqCO,QArCDD,MAAM,kCAAmC8B,SAAM,+CAAUlB,6BAAQ,eAAvE,CACEX,gCAKM,MALN,EAKM,CAJJ8B,EAGA9B,gCAAkG,SAA3FC,KAAK,QAAQF,MAAM,eAAegC,YAAY,UAAWC,MAAO1B,QAAM2B,KAAKC,MAAOC,SAAA,IAAzF,YAEFnC,gCAKM,MALN,EAKM,CAJJoC,EAGApC,gCAAiG,SAA1FC,KAAK,OAAOF,MAAM,eAAegC,YAAY,WAAYC,MAAO1B,QAAM2B,KAAKI,KAAMF,SAAA,IAAxF,YAEFnC,gCAKM,MALN,EAKM,CAJJsC,EAGAtC,gCAAgG,SAAzFC,KAAK,OAAOF,MAAM,eAAegC,YAAY,WAAYC,MAAO1B,QAAM2B,KAAKM,IAAKJ,SAAA,IAAvF,YAEFnC,gCAKM,MALN,EAKM,CAJJwC,EAGAxC,gCAAoG,SAA7FC,KAAK,OAAOF,MAAM,eAAegC,YAAY,WAAYC,MAAO1B,QAAM2B,KAAKQ,QAASN,SAAA,IAA3F,YAEFnC,gCAGM,MAHN,EAGM,CAFJ0C,EACA1C,gCAAoH,YAA1GD,MAAM,eAAeoB,GAAG,8BAA8BwB,KAAK,IAAKX,MAAO1B,QAAMsC,QAAST,SAAA,IAAhG,YAEFnC,gCAIM,MAJN,EAIM,CAHJ6C,EACYvC,QAAMwC,SAAlB,yBACAjC,gCAA2C,MAA3C,EAAiC,UADfiC,yBAAlBjC,gCAAwD,MAAxD,EAA8C,YAGC,IAAbP,QAAMwC,SAAO,yBAAjDjC,gCAEM,MAFN,EAEMkC,IAFN,wCAlCF,eAvEV,IAqHa,OACbC,OAAQ,CACN,WAEFC,OACE,MAAO,CACLC,QAAS,GACTC,MAAO,CACLlB,KAAM,IAERmB,WAAW,IAGfC,QAAS,CACPC,WACEC,KAAKH,WAAY,EACjB,MAAMI,EAAO,uDAAmED,KAAKL,QACrFK,KAAKE,MAAMC,IAAIF,GAAKG,KAAMC,IACxBL,KAAKH,WAAY,EACjBG,KAAKJ,MAAQS,EAAIX,KAAKE,SAG1BU,YAAaX,GACXY,UAAUC,UAAUC,UAAUd,GAASS,KAAK,KAC1CJ,KAAKU,QAAQC,KAAK,eAAgB,CAChCC,MAAO,UACP3C,MAAO,kBAIb4C,WACE,MAAMZ,EAAO,qDAAiED,KAAKL,QACnFK,KAAKH,WAAY,EACjBG,KAAKE,MAAMY,KAAKb,GAAKG,KAAMC,IACzBL,KAAKH,WAAY,EACjBkB,QAAQC,IAAI,KAAMX,GACdA,EAAIX,KAAKuB,SACXjB,KAAKD,eAKbmB,UACElB,KAAKL,QAAUK,KAAKmB,OAAOC,OAAOzB,QAClCK,KAAKD,a,qBC9JT,MAAMsB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0e2114.747c073f.js","sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"page-body-padding container pb-7\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-lg-10\">\n        <nav aria-label=\"breadcrumb\">\n          <ol class=\"breadcrumb mt-5 mb-5\">\n            <li class=\"breadcrumb-item\"><a href=\"#\" class=\"text-brown\">首頁</a></li>\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">商品</li>\n          </ol>\n        </nav>\n        <h1 class=\"text-center text-brown\">購物車</h1>\n        <div class=\"row justify-content-center mt-5 mb-md-5\">\n          <div class=\"col-lg-8\">\n            <div class=\"row process\">\n              <div class=\"col-4 text-maroon text-center pb-2 border-bottom border-5 border-maroon\">\n                <span>STEP 01</span>\n                <div class=\"fs-5 fw-bold mt-2 mb-2\">建立訂單</div>\n              </div>\n              <div class=\"col-4 text-maroon text-center px-0 pb-2 border-bottom border-5 border-maroon\">\n                <span>STEP 02</span>\n                <div class=\"fs-5 fw-bold mt-2 mb-2\">確認付款</div>\n              </div>\n              <div class=\"col-4 text-maroon text-center px-0 pb-2 border-bottom border-5\">\n                <span>STEP 03</span>\n                <div class=\"fs-5 fw-bold mt-2 mb-2\">完成訂單</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row pt-7 text-center text-sm-start\">\n          <div class=\"d-sm-flex justify-content-start align-items-end mb-3\">\n            <div class=\"h4 text-brown mb-0\">訂單編號</div>\n            <span class=\"text-danger ms-sm-2 fw-bold\">複製以保存您的訂單編號，便於查找訂單狀態</span>\n          </div>\n          <div class=\"d-sm-flex justify-content-between align-items-center\">\n            <div class=\"h5 mb-0 fw-bold text-brown\">{{orderId}}</div>\n            <button type=\"button\" @click=\"copyOrderId(orderId)\" class=\"btn btn-toffee mt-3 mt-sm-0\">複製訂單編號</button>\n          </div>\n        </div>\n        <div class=\"row justify-content-between pt-7\">\n          <div class=\"col-md-6 col-lg-5 text-brown mb-5 mb-md-0\">\n            <div class=\"h4 mb-4 text-center text-md-start\">訂購商品</div>\n            <div class=\"pb-4 px-md-3 border-bottom d-flex mb-4\" v-for=\"item in order.products\" :key=\"item.id\">\n              <div class=\"photo\">\n                <img :src=\"item.product.imageUrl\" alt=\"\">\n              </div>\n              <div class=\"px-3 good-title\">\n                <div class=\"text-line-height-48 mb-2\">\n                  <div class=\"text-2-line fw-bold\">{{item.product.title}}</div>\n                </div>\n                <div class=\"fw-bold mb-2\">NT$&nbsp;{{item.product.price}}</div>\n                <!-- <span class=\"text-danger\">已套用優惠券</span> -->\n                <!-- <div class=\"btn-group\">\n                  <button type=\"button\" class=\"btn btn-outline-toffee disabled\">\n                    <i class=\"bi bi-dash-lg\"></i>\n                  </button>\n                  <input type=\"number\" class=\"text-center form-control rounded-0 border-start-0 border-end-0 border-toffee\" value=\"1\">\n                  <button type=\"button\" class=\"btn btn-outline-toffee\">\n                    <i class=\"bi bi-plus-lg\"></i>\n                  </button>\n                </div> -->\n              </div>\n              <div class=\"fs-5 ms-auto text-toffee\">\n                x{{item.qty}}\n              </div>\n            </div>\n            <div class=\"text-end\">\n              <div class=\"fs-5 fw-bold text-toffee\">總計:&nbsp;NT$&nbsp;{{order.total}}</div>\n            </div>\n          </div>\n          <div class=\"col-md-6 text-brown\">\n            <div class=\"h4 mb-4 text-brown text-center text-md-start mt-5 mt-md-0\">訂購人資訊</div>\n            <form class=\"shadow p-4 mb-5 bg-body rounded\" @submit.prevent=\"payOrder\">\n              <div class=\"mb-3\">\n                <label class=\"form-label fw-bold\">電子信箱\n                  <span class=\"text-danger\">*</span>\n                </label>\n                <input type=\"email\" class=\"form-control\" placeholder=\"請輸入電子信箱\" :value=\"order.user.email\" disabled>\n              </div>\n              <div class=\"mb-3\">\n                <label class=\"form-label fw-bold\">收件人姓名\n                  <span class=\"text-danger\">*</span>\n                </label>\n                <input type=\"text\" class=\"form-control\" placeholder=\"請輸入收件人姓名\" :value=\"order.user.name\" disabled>\n              </div>\n              <div class=\"mb-3\">\n                <label class=\"form-label fw-bold\">收件人電話\n                  <span class=\"text-danger\">*</span>\n                </label>\n                <input type=\"text\" class=\"form-control\" placeholder=\"請輸入收件人電話\" :value=\"order.user.tel\" disabled>\n              </div>\n              <div class=\"mb-3\">\n                <label class=\"form-label fw-bold\">收件人地址\n                  <span class=\"text-danger\">*</span>\n                </label>\n                <input type=\"text\" class=\"form-control\" placeholder=\"請輸入收件人地址\" :value=\"order.user.address\" disabled>\n              </div>\n              <div class=\"mb-3\">\n                <label class=\"form-label fw-bold\">備註</label>\n                <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\" :value=\"order.message\" disabled></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <label class=\"form-label fw-bold\">付款狀態</label>\n                <div v-if=\"!order.is_paid\" class=\"text-muted\">尚未付款</div>\n                <div v-else class=\"text-success\">付款完成</div>\n              </div>\n              <div class=\"text-center mt-5\" v-if=\"order.is_paid === false\">\n                <button type=\"submit\" class=\"btn btn-toffee\">確認付款</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  inject: [\n    'emitter'\n  ],\n  data () {\n    return {\n      orderId: '',\n      order: {\n        user: {}\n      },\n      isLoading: false\n    }\n  },\n  methods: {\n    getOders () {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${this.orderId}`\n      this.$http.get(api).then((res) => {\n        this.isLoading = false\n        this.order = res.data.order\n      })\n    },\n    copyOrderId (orderId) {\n      navigator.clipboard.writeText(orderId).then(() => {\n        this.emitter.emit('push-message', {\n          style: 'success',\n          title: '您已成功複製優惠碼!'\n        })\n      })\n    },\n    payOrder () {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`\n      this.isLoading = true\n      this.$http.post(api).then((res) => {\n        this.isLoading = false\n        console.log('zz', res)\n        if (res.data.success) {\n          this.getOders()\n        }\n      })\n    }\n  },\n  created () {\n    this.orderId = this.$route.params.orderId\n    this.getOders()\n  }\n}\n</script>\n","import { render } from \"./Checkout.vue?vue&type=template&id=3eb9e636\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/macintosh/Documents/vue3_2022/diving/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}