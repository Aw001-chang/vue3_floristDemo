(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fe04ec6"],{1799:function(e,t,c){"use strict";var a=c("7a23");const o={"aria-label":"Page navigation example"},l={class:"pagination"},s=Object(a["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),i=[s],r=["onClick"],n=Object(a["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),d=[n];function b(e,t,c,s,n,b){return Object(a["openBlock"])(),Object(a["createElementBlock"])("nav",o,[Object(a["createElementVNode"])("ul",l,[Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])(["page-item",{disabled:!c.pages.has_pre}])},[Object(a["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=Object(a["withModifiers"])(t=>e.$emit("emit-pages",c.pages.current_page-1),["prevent"]))},i)],2),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(c.pages.total_pages,t=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{class:Object(a["normalizeClass"])([{active:t===c.pages.current_page},"page-item"]),key:t},[Object(a["createElementVNode"])("a",{class:"page-link",href:"#",onClick:Object(a["withModifiers"])(c=>(e.$emit("emit-pages",t),b.refreshTop()),["prevent"])},Object(a["toDisplayString"])(t),9,r)],2))),128)),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])(["page-item",{disabled:!c.pages.has_next}])},[Object(a["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[1]||(t[1]=Object(a["withModifiers"])(t=>e.$emit("emit-pages",c.pages.current_page+1),["prevent"]))},d)],2)])])}var p={props:["pages"],methods:{refreshTop(){document.documentElement.scrollTop=0}}},m=c("d959"),g=c.n(m);const O=g()(p,[["render",b]]);t["a"]=O},"5f9f":function(e,t,c){"use strict";c("844e")},"844e":function(e,t,c){},8629:function(e,t,c){"use strict";c.r(t);c("caad");var a=c("7a23");const o=e=>(Object(a["pushScopeId"])("data-v-15e854dc"),e=e(),Object(a["popScopeId"])(),e),l={class:"page-body-padding container pb-7"},s={class:"row justify-content-center"},i={class:"col-xl-10 mt-5"},r={class:"row"},n={class:"accordion col-md-3 col-12 mb-5 mb-md-0",id:"accordionPanelsStayOpenExample"},d={class:"accordion-item"},b=o(()=>Object(a["createElementVNode"])("h2",{class:"accordion-header",id:"panelsStayOpen-headingOne"},[Object(a["createElementVNode"])("button",{class:"accordion-button bg-brown text-white fs-5 pt-4 pb-4",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"}," 類別 ")],-1)),p={class:"accordion-body p-0"},m={class:"list-group rounded-0"},g={class:"col-md-9"},O={key:0,class:"h1 text-brown mb-3 text-center text-sm-start"},j={key:1,class:"h1 text-brown mb-3 text-center text-sm-start"},u={class:"d-sm-flex justify-content-between align-items-center mb-5 text-center"},h=o(()=>Object(a["createElementVNode"])("option",{value:"null",disabled:"",selected:""},"依照條件搜尋",-1)),v=["value"],k={class:"tab-content",id:"v-pills-tabContent"},E={class:"tab-pane fade show active",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab"},N={class:"goods row"},f={class:"card h-100 position-relative"},y=["onClick"],V=o(()=>Object(a["createElementVNode"])("i",{class:"bi bi-bookmark text-white"},null,-1)),C=[V],x=["onClick"],w=["src"],P=["onClick"],S=o(()=>Object(a["createElementVNode"])("i",{class:"bi bi-cart3 me-2"},null,-1)),B=Object(a["createTextVNode"])("加入購物車"),D=[S,B],z={class:"card-body text-line-height"},T={class:"h5 text-brown text-2-line"},_={class:"text-maroon position-absolute bottom-0 pb-3"},F={class:"card h-100 position-relative"},L=["onClick"],M=o(()=>Object(a["createElementVNode"])("i",{class:"bi bi-bookmark text-white"},null,-1)),I=[M],$=["onClick"],U=["src"],A=["onClick"],J=o(()=>Object(a["createElementVNode"])("i",{class:"bi bi-cart3 me-2"},null,-1)),q=Object(a["createTextVNode"])("加入購物車 "),G=[J,q],H={class:"card-body text-line-height"},K={class:"h5 text-brown text-2-line"},Q={class:"text-maroon position-absolute bottom-0 pb-3"},R=o(()=>Object(a["createElementVNode"])("div",{class:"tab-pane fade",id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab"},"2",-1)),W=o(()=>Object(a["createElementVNode"])("div",{class:"tab-pane fade",id:"v-pills-messages",role:"tabpanel","aria-labelledby":"v-pills-messages-tab"},"...",-1)),X=o(()=>Object(a["createElementVNode"])("div",{class:"tab-pane fade",id:"v-pills-settings",role:"tabpanel","aria-labelledby":"v-pills-settings-tab"},"...",-1)),Y={key:2,class:"row justify-content-center"},Z={class:"w-auto mt-5"};function ee(e,t,c,o,V,S){const B=Object(a["resolveComponent"])("Loading"),M=Object(a["resolveComponent"])("Pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(B,{active:V.isLoading},null,8,["active"]),Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",d,[b,Object(a["createElementVNode"])("div",{id:"panelsStayOpen-collapseOne",onClick:t[4]||(t[4]=(...e)=>S.accordionCollapseBack&&S.accordionCollapseBack(...e)),class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingOne"},[Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("ul",m,[Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])(["list-group-item",{active:""===V.category}]),onClick:t[0]||(t[0]=t=>(V.category="",S.getProducts(e.page=1)))},"全部",2),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])(["list-group-item",{active:"花束"===V.category}]),onClick:t[1]||(t[1]=t=>(V.category="花束",S.getProducts(e.page=1)))},"花束",2),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])(["list-group-item",{active:"盆花"===V.category}]),onClick:t[2]||(t[2]=t=>(V.category="盆花",S.getProducts(e.page=1)))},"盆花",2),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])(["list-group-item",{active:"課程"===V.category}]),onClick:t[3]||(t[3]=t=>(V.category="課程",S.getProducts(e.page=1)))},"課程",2)])])])])]),Object(a["createElementVNode"])("div",g,[""===V.category?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",O,"全部")):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",j,Object(a["toDisplayString"])(V.category),1)),Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("span",null,"顯示所有 "+Object(a["toDisplayString"])(S.categoryNum.length)+" 個結果",1),Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:"form-select w-auto m-auto m-sm-0 mt-2 mt-sm-0","aria-label":"Default select","onUpdate:modelValue":t[5]||(t[5]=e=>V.searchSelected=e),onChange:t[6]||(t[6]=e=>S.searchSelect(e))},[h,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(V.sortModel,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{value:e.value,key:e.index},Object(a["toDisplayString"])(e.option),9,v))),128))],544),[[a["vModelSelect"],V.searchSelected]])]),Object(a["createElementVNode"])("div",k,[Object(a["createElementVNode"])("div",E,[Object(a["createElementVNode"])("div",N,[""===V.category?(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],{key:0},Object(a["renderList"])(V.products,t=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"col-sm-6 col-lg-4 mb-4",key:t.id},[Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["btn-sm rounded-scircle btn-toffee position-absolute top-0 end-0 m-2",{"opacity-100":e.favorite.includes(t)}]),onClick:c=>e.toggleFavorite(t)},C,10,y),Object(a["createElementVNode"])("a",{class:"img-box",onClick:c=>e.getProductId(t.id)},[Object(a["createElementVNode"])("img",{src:t.imageUrl,class:"card-img-top",alt:"..."},null,8,w)],8,x),Object(a["createElementVNode"])("a",{onClick:c=>e.addToCart(t),class:"add-to-cart d-block text-white text-center pt-1 pb-1 btn-toffee"},D,8,P),Object(a["createElementVNode"])("div",z,[Object(a["createElementVNode"])("div",T,Object(a["toDisplayString"])(t.title),1),Object(a["createElementVNode"])("span",_,"NT$ "+Object(a["toDisplayString"])(t.price),1)])])]))),128)):Object(a["createCommentVNode"])("",!0),""!==V.category?(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],{key:1},Object(a["renderList"])(S.filterData,t=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"col-sm-6 col-lg-4 mb-4",key:t.id},[Object(a["createElementVNode"])("div",F,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["btn-sm rounded-scircle btn-toffee position-absolute top-0 end-0 m-2",{"opacity-100":e.favorite.includes(t)}]),onClick:c=>e.toggleFavorite(t)},I,10,L),Object(a["createElementVNode"])("a",{class:"img-box",onClick:c=>e.getProductId(t.id)},[Object(a["createElementVNode"])("img",{src:t.imageUrl,class:"card-img-top",alt:"..."},null,8,U)],8,$),Object(a["createElementVNode"])("a",{onClick:c=>e.addToCart(t),class:"add-to-cart d-block text-white text-center pt-1 pb-1 btn-toffee"},G,8,A),Object(a["createElementVNode"])("div",H,[Object(a["createElementVNode"])("div",K,Object(a["toDisplayString"])(t.title),1),Object(a["createElementVNode"])("span",Q,"NT$ "+Object(a["toDisplayString"])(t.price),1)])])]))),128)):Object(a["createCommentVNode"])("",!0)])]),R,W,X]),S.categoryNum.length>10?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Y,[Object(a["createElementVNode"])("div",Z,[Object(a["createVNode"])(M,{pages:V.pagination,onEmitPages:S.getProducts},null,8,["pages","onEmitPages"])])])):Object(a["createCommentVNode"])("",!0)])])])])])],64)}var te=c("c808"),ce=c("1799"),ae={inject:["emitter"],components:{Pagination:ce["a"]},mixins:[te["a"]],data(){return{isLoading:!1,allProducts:[],products:[],pagination:{},isActive:!0,category:"",currentPage:[],sortModel:[{option:"價錢:低-高",value:"forNew"},{option:"價錢:高-低",value:"forPrice"}],searchSelected:null,searchSelectItems:[]}},methods:{getProducts(e=1){const t="https://vue3-course-api.hexschool.io/api/anpo/products?page="+e;this.$http.get(t).then(e=>{this.products=e.data.products,this.pagination=e.data.pagination,this.searchSelected=null})},searchSelect(e){if(this.searchSelected=e.target.value,""===this.category){const e=this.products.filter(e=>{if(""!==e.price&&void 0!==e.price)return e});if("forNew"===this.searchSelected){const t=e.sort((e,t)=>e.price-t.price);this.products=t}else if("forPrice"===this.searchSelected){const t=e.sort((e,t)=>t.price-e.price);this.products=t}}else if(""!==this.category){const e=this.allProducts.filter(e=>{if(""!==e.price&&void 0!==e.price)return e});if("forNew"===this.searchSelected){const t=e.sort((e,t)=>e.price-t.price);this.allProducts=t}else if("forPrice"===this.searchSelected){const t=e.sort((e,t)=>t.price-e.price);this.allProducts=t}}},accordionCollapseBack(){if(window.matchMedia("(max-width: 575px)").matches){const e=document.querySelector(".accordion-button");e.click()}}},computed:{filterCategory(){const e=this.allProducts.map(e=>e.category);return[...new Set(e)]},filterData(){return this.allProducts.filter(e=>""===this.category||this.category===e.category?this.allProducts:void 0)},categoryNum(){return this.allProducts.filter(e=>""===this.category?this.allProducts:this.category===e.category?e:void 0)}},mounted(){this.emitter.on("all",e=>{this.allProducts=e}),this.getProducts(),this.getAllProducts()}},oe=(c("5f9f"),c("d959")),le=c.n(oe);const se=le()(ae,[["render",ee],["__scopeId","data-v-15e854dc"]]);t["default"]=se}}]);
//# sourceMappingURL=chunk-1fe04ec6.b97fc8dd.js.map