(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-583b225c"],{"0a10":function(e,t,c){"use strict";c("4982")},1799:function(e,t,c){"use strict";var a=c("7a23");const s={"aria-label":"Page navigation example"},i={class:"pagination"},l=Object(a["h"])("span",{"aria-hidden":"true"},"«",-1),o=[l],r=["onClick"],n=Object(a["h"])("span",{"aria-hidden":"true"},"»",-1),b=[n];function d(e,t,c,l,n,d){return Object(a["A"])(),Object(a["g"])("nav",s,[Object(a["h"])("ul",i,[Object(a["h"])("li",{class:Object(a["s"])(["page-item",{disabled:!c.pages.has_pre}])},[Object(a["h"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=Object(a["Z"])(t=>e.$emit("emit-pages",c.pages.current_page-1),["prevent"]))},o)],2),(Object(a["A"])(!0),Object(a["g"])(a["a"],null,Object(a["I"])(c.pages.total_pages,t=>(Object(a["A"])(),Object(a["g"])("li",{class:Object(a["s"])([{active:t===c.pages.current_page},"page-item"]),key:t},[Object(a["h"])("a",{class:"page-link",href:"#",onClick:Object(a["Z"])(c=>(e.$emit("emit-pages",t),d.refreshTop()),["prevent"])},Object(a["N"])(t),9,r)],2))),128)),Object(a["h"])("li",{class:Object(a["s"])(["page-item",{disabled:!c.pages.has_next}])},[Object(a["h"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[1]||(t[1]=Object(a["Z"])(t=>e.$emit("emit-pages",c.pages.current_page+1),["prevent"]))},b)],2)])])}var p={props:["pages"],methods:{refreshTop(){document.documentElement.scrollTop=0}}},h=c("d959"),g=c.n(h);const O=g()(p,[["render",d]]);t["a"]=O},4982:function(e,t,c){},8629:function(e,t,c){"use strict";c.r(t);c("caad");var a=c("7a23");const s=e=>(Object(a["D"])("data-v-58f7fcbc"),e=e(),Object(a["B"])(),e),i={class:"page-body-padding container pb-7"},l={class:"row justify-content-center"},o={class:"col-xl-10 mt-5"},r={class:"row"},n={class:"accordion col-md-3 col-12 mb-5 mb-md-0",id:"accordionPanelsStayOpenExample"},b={class:"accordion-item"},d=s(()=>Object(a["h"])("h2",{class:"accordion-header",id:"panelsStayOpen-headingOne"},[Object(a["h"])("button",{class:"accordion-button bg-brown text-white fs-5 pt-4 pb-4",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"}," 類別 ")],-1)),p={class:"accordion-body p-0"},h={class:"list-group rounded-0"},g={class:"col-md-9"},O={key:0,class:"h1 text-brown mb-3 text-center text-sm-start"},j={key:1,class:"h1 text-brown mb-3 text-center text-sm-start"},u={class:"d-sm-flex justify-content-between align-items-center mb-5 text-center"},m=s(()=>Object(a["h"])("option",{value:"null",disabled:"",selected:""},"依照條件搜尋",-1)),v=["value"],f={class:"tab-content",id:"v-pills-tabContent"},y={class:"tab-pane fade show active",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab"},k={class:"goods row"},x={class:"card h-100 position-relative"},w=["onClick"],P=s(()=>Object(a["h"])("i",{class:"bi bi-bookmark text-white"},null,-1)),C=[P],S=["onClick"],N=["src"],A=["onClick"],I=s(()=>Object(a["h"])("i",{class:"bi bi-cart3 me-2"},null,-1)),_=Object(a["j"])("加入購物車"),T=[I,_],$={class:"card-body text-line-height"},B={class:"h5 text-brown text-2-line"},D={class:"text-maroon position-absolute bottom-0 pb-3"},E={class:"card h-100 position-relative"},L=["onClick"],M=s(()=>Object(a["h"])("i",{class:"bi bi-bookmark text-white"},null,-1)),U=[M],Z=["onClick"],F=["src"],J=["onClick"],K=s(()=>Object(a["h"])("i",{class:"bi bi-cart3 me-2"},null,-1)),q=Object(a["j"])("加入購物車 "),R=[K,q],V={class:"card-body text-line-height"},Y={class:"h5 text-brown text-2-line"},z={class:"text-maroon position-absolute bottom-0 pb-3"},G=s(()=>Object(a["h"])("div",{class:"tab-pane fade",id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab"},"2",-1)),H=s(()=>Object(a["h"])("div",{class:"tab-pane fade",id:"v-pills-messages",role:"tabpanel","aria-labelledby":"v-pills-messages-tab"},"...",-1)),Q=s(()=>Object(a["h"])("div",{class:"tab-pane fade",id:"v-pills-settings",role:"tabpanel","aria-labelledby":"v-pills-settings-tab"},"...",-1)),W={key:2,class:"row justify-content-center"},X={class:"w-auto mt-5"};function ee(e,t,c,s,P,I){const _=Object(a["K"])("Loading"),M=Object(a["K"])("Pagination");return Object(a["A"])(),Object(a["g"])(a["a"],null,[Object(a["k"])(_,{active:P.isLoading},null,8,["active"]),Object(a["h"])("div",i,[Object(a["h"])("div",l,[Object(a["h"])("div",o,[Object(a["h"])("div",r,[Object(a["h"])("div",n,[Object(a["h"])("div",b,[d,Object(a["h"])("div",{id:"panelsStayOpen-collapseOne",onClick:t[4]||(t[4]=(...e)=>I.accordionCollapseBack&&I.accordionCollapseBack(...e)),class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingOne"},[Object(a["h"])("div",p,[Object(a["h"])("ul",h,[Object(a["h"])("li",{class:Object(a["s"])(["list-group-item",{active:""===P.category}]),onClick:t[0]||(t[0]=t=>(P.category="",I.getProducts(e.page=1)))},"全部",2),Object(a["h"])("li",{class:Object(a["s"])(["list-group-item",{active:"花束"===P.category}]),onClick:t[1]||(t[1]=t=>(P.category="花束",I.getProducts(e.page=1)))},"花束",2),Object(a["h"])("li",{class:Object(a["s"])(["list-group-item",{active:"盆花"===P.category}]),onClick:t[2]||(t[2]=t=>(P.category="盆花",I.getProducts(e.page=1)))},"盆花",2),Object(a["h"])("li",{class:Object(a["s"])(["list-group-item",{active:"課程"===P.category}]),onClick:t[3]||(t[3]=t=>(P.category="課程",I.getProducts(e.page=1)))},"課程",2)])])])])]),Object(a["h"])("div",g,[""===P.category?(Object(a["A"])(),Object(a["g"])("div",O,"全部")):(Object(a["A"])(),Object(a["g"])("div",j,Object(a["N"])(P.category),1)),Object(a["h"])("div",u,[Object(a["h"])("span",null,"顯示所有 "+Object(a["N"])(I.categoryNum.length)+" 個結果",1),Object(a["Y"])(Object(a["h"])("select",{class:"form-select w-auto m-auto m-sm-0 mt-2 mt-sm-0","aria-label":"Default select","onUpdate:modelValue":t[5]||(t[5]=e=>P.searchSelected=e),onChange:t[6]||(t[6]=e=>I.searchSelect(e))},[m,(Object(a["A"])(!0),Object(a["g"])(a["a"],null,Object(a["I"])(P.sortModel,e=>(Object(a["A"])(),Object(a["g"])("option",{value:e.value,key:e.index},Object(a["N"])(e.option),9,v))),128))],544),[[a["R"],P.searchSelected]])]),Object(a["h"])("div",f,[Object(a["h"])("div",y,[Object(a["h"])("div",k,[""===P.category?(Object(a["A"])(!0),Object(a["g"])(a["a"],{key:0},Object(a["I"])(P.products,t=>(Object(a["A"])(),Object(a["g"])("div",{class:"col-sm-6 col-lg-4 mb-4",key:t.id},[Object(a["h"])("div",x,[Object(a["h"])("div",{class:Object(a["s"])(["btn-sm rounded-scircle btn-toffee position-absolute top-0 end-0 m-2",{"opacity-100":e.favorite.includes(t)}]),onClick:c=>e.toggleFavorite(t)},C,10,w),Object(a["h"])("a",{class:"img-box",onClick:c=>e.getProductId(t.id)},[Object(a["h"])("img",{src:t.imageUrl,class:"card-img-top",alt:"..."},null,8,N)],8,S),Object(a["h"])("a",{onClick:c=>e.addToCart(t),class:"add-to-cart d-block text-white text-center pt-1 pb-1 btn-toffee"},T,8,A),Object(a["h"])("div",$,[Object(a["h"])("div",B,Object(a["N"])(t.title),1),Object(a["h"])("span",D,"NT$ "+Object(a["N"])(t.price),1)])])]))),128)):Object(a["f"])("",!0),""!==P.category?(Object(a["A"])(!0),Object(a["g"])(a["a"],{key:1},Object(a["I"])(I.filterData,t=>(Object(a["A"])(),Object(a["g"])("div",{class:"col-sm-6 col-lg-4 mb-4",key:t.id},[Object(a["h"])("div",E,[Object(a["h"])("div",{class:Object(a["s"])(["btn-sm rounded-scircle btn-toffee position-absolute top-0 end-0 m-2",{"opacity-100":e.favorite.includes(t)}]),onClick:c=>e.toggleFavorite(t)},U,10,L),Object(a["h"])("a",{class:"img-box",onClick:c=>e.getProductId(t.id)},[Object(a["h"])("img",{src:t.imageUrl,class:"card-img-top",alt:"..."},null,8,F)],8,Z),Object(a["h"])("a",{onClick:c=>e.addToCart(t),class:"add-to-cart d-block text-white text-center pt-1 pb-1 btn-toffee"},R,8,J),Object(a["h"])("div",V,[Object(a["h"])("div",Y,Object(a["N"])(t.title),1),Object(a["h"])("span",z,"NT$ "+Object(a["N"])(t.price),1)])])]))),128)):Object(a["f"])("",!0)])]),G,H,Q]),I.categoryNum.length>10?(Object(a["A"])(),Object(a["g"])("div",W,[Object(a["h"])("div",X,[Object(a["k"])(M,{pages:P.pagination,onEmitPages:I.getProducts},null,8,["pages","onEmitPages"])])])):Object(a["f"])("",!0)])])])])])],64)}var te=c("c808"),ce=c("1799"),ae={inject:["emitter"],components:{Pagination:ce["a"]},mixins:[te["a"]],data(){return{isLoading:!1,allProducts:[],products:[],pagination:{},isActive:!0,category:"",currentPage:[],sortModel:[{option:"價錢:低-高",value:"forNew"},{option:"價錢:高-低",value:"forPrice"}],searchSelected:null,searchSelectItems:[]}},methods:{getProducts(e=1){const t="https://vue3-course-api.hexschool.io/api/anpo/products?page="+e;this.$http.get(t).then(e=>{console.log("api:",t),this.products=e.data.products,this.pagination=e.data.pagination,this.searchSelected=null})},searchSelect(e){if(this.searchSelected=e.target.value,""===this.category){console.log("===");const e=this.products.filter(e=>{if(""!==e.price&&void 0!==e.price)return e});if("forNew"===this.searchSelected){const t=e.sort((e,t)=>e.price-t.price);this.products=t}else if("forPrice"===this.searchSelected){const t=e.sort((e,t)=>t.price-e.price);this.products=t}}else if(""!==this.category){console.log("!==");const e=this.allProducts.filter(e=>{if(""!==e.price&&void 0!==e.price)return e});if("forNew"===this.searchSelected){const t=e.sort((e,t)=>e.price-t.price);this.allProducts=t}else if("forPrice"===this.searchSelected){const t=e.sort((e,t)=>t.price-e.price);this.allProducts=t}}},accordionCollapseBack(){if(window.matchMedia("(max-width: 575px)").matches){const e=document.querySelector(".accordion-button");e.click()}}},computed:{filterCategory(){const e=this.allProducts.map(e=>e.category);return[...new Set(e)]},filterData(){return this.allProducts.filter(e=>""===this.category||this.category===e.category?this.allProducts:void 0)},categoryNum(){return this.allProducts.filter(e=>""===this.category?this.allProducts:this.category===e.category?e:void 0)}},mounted(){this.emitter.on("all",e=>{this.allProducts=e}),this.getProducts(),this.getAllProducts()}},se=(c("0a10"),c("d959")),ie=c.n(se);const le=ie()(ae,[["render",ee],["__scopeId","data-v-58f7fcbc"]]);t["default"]=le}}]);
//# sourceMappingURL=chunk-583b225c.7d72e787.js.map