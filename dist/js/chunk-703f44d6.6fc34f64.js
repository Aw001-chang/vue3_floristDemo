(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-703f44d6"],{"0d96":function(e,t,c){},5489:function(e,t,c){},b186:function(e,t,c){"use strict";c.r(t);var a=c("7a23");const o={class:"userboard"};function n(e,t,c,n,l,r){const s=Object(a["resolveComponent"])("FrontNavBar"),d=Object(a["resolveComponent"])("router-view"),i=Object(a["resolveComponent"])("ToastMessages"),b=Object(a["resolveComponent"])("Footer");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createVNode"])(s),Object(a["createVNode"])(d),Object(a["createVNode"])(i),Object(a["createVNode"])(b)])}var l=c("3568"),r=c.n(l);const s=e=>(Object(a["pushScopeId"])("data-v-56e9ad1b"),e=e(),Object(a["popScopeId"])(),e),d={class:"bg-brown w-100"},i={class:"container-lg"},b={class:"row justify-content-center"},m={class:"col-lg-10"},j={class:"navbar navbar-expand-sm navbar-dark pt-2 pb-2"},O={class:"container-fluid px-0"},p=s(()=>Object(a["createElementVNode"])("img",{class:"logo me-2",src:r.a,alt:""},null,-1)),u=s(()=>Object(a["createElementVNode"])("h1",null,"桂子飄香",-1)),v={class:"nav-item dropdown ms-auto order-sm-1 d-flex"},g={class:"position-relative me-2"},f=s(()=>Object(a["createElementVNode"])("i",{class:"bi bi-bookmark me-1"},null,-1)),N={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},V=s(()=>Object(a["createElementVNode"])("div",{class:"d-sm-block d-none"},"我的收藏",-1)),h={class:"nav-link d-flex text-white pe-2 pe-sm-0",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},E={class:"position-relative me-2"},k=s(()=>Object(a["createElementVNode"])("i",{class:"bi bi-cart3 me-1"},null,-1)),x=["cartLength"],w=s(()=>Object(a["createElementVNode"])("div",{class:"d-sm-block d-none"},"購物車",-1)),C={class:"dropdown-menu shadow-lg","aria-labelledby":"navbarDropdown"},y=s(()=>Object(a["createElementVNode"])("div",{class:"border-bottom pb-2 px-3 text-toffee fw-bold fs-4 text-center"},"購物車",-1)),B={key:0},L=s(()=>Object(a["createElementVNode"])("div",{class:"text-center mt-4 d-flex justify-content-center flex-column"},[Object(a["createElementVNode"])("i",{class:"fs-1 bi bi-exclamation-triangle-fill text-black-50"}),Object(a["createElementVNode"])("span",{class:"text-black-50"},"尚未選購商品")],-1)),T={class:"text-center mt-4 mb-3 px-3"},D=Object(a["createTextVNode"])("選購商品"),F={key:1,class:"overflow-scroll"},S={href:"#",class:"photo"},_=["src"],q={class:"px-3 good-title"},I={class:"mb-2"},M={class:"text-1-line fw-bold"},U={class:"fw-bold mb-2"},$={class:"btn-group"},z=["onClick"],J=s(()=>Object(a["createElementVNode"])("i",{class:"bi bi-dash-lg"},null,-1)),P=[J],A=["onUpdate:modelValue","disabled","onClick"],G=["onClick"],H=s(()=>Object(a["createElementVNode"])("i",{class:"bi bi-plus-lg"},null,-1)),K=[H],Q={class:"fs-5 ms-auto"},R=["onClick"],W=s(()=>Object(a["createElementVNode"])("i",{class:"bi bi-trash"},null,-1)),X=[W],Y={class:"text-end px-3"},Z={class:"fs-5 fw-bold"},ee={class:"text-center mt-4 mb-3 px-3"},te=Object(a["createTextVNode"])("前往結帳"),ce=Object(a["createTextVNode"])("繼續選購"),ae=s(()=>Object(a["createElementVNode"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["createElementVNode"])("span",{class:"navbar-toggler-icon"})],-1)),oe={class:"collapse navbar-collapse",id:"navbarTogglerDemo02"},ne={class:"navbar-nav ms-auto mt-sm-0 mt-3"},le={class:"nav-item"},re=s(()=>Object(a["createElementVNode"])("div",{class:"position-relative me-2"},[Object(a["createElementVNode"])("i",{class:"bi bi-shop-window"})],-1)),se=s(()=>Object(a["createElementVNode"])("div",null,"商品列表",-1));function de(e,t,c,o,n,l){const r=Object(a["resolveComponent"])("Loading"),s=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(r,{active:n.isLoading},null,8,["active"]),Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("div",m,[Object(a["createElementVNode"])("nav",j,[Object(a["createElementVNode"])("div",O,[Object(a["createVNode"])(s,{to:"/",class:"navbar-brand d-flex align-items-center"},{default:Object(a["withCtx"])(()=>[p,u]),_:1}),Object(a["createElementVNode"])("div",v,[Object(a["createVNode"])(s,{to:"/favorite",class:"nav-link d-flex text-white pe-2 pe-sm-0"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",g,[f,0!==e.favorite.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",N,Object(a["toDisplayString"])(e.favorite.length),1)):Object(a["createCommentVNode"])("",!0)]),V]),_:1}),Object(a["createElementVNode"])("a",h,[Object(a["createElementVNode"])("div",E,[k,0!==n.cartLength?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:0,cartLength:n.cartLength,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},Object(a["toDisplayString"])(n.cartLength),9,x)):Object(a["createCommentVNode"])("",!0)]),w]),Object(a["createElementVNode"])("div",C,[y,0===n.cartLength?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",B,[L,Object(a["createElementVNode"])("div",T,[Object(a["createVNode"])(s,{to:"/goods",class:"btn btn-toffee w-100 d-block"},{default:Object(a["withCtx"])(()=>[D]),_:1})])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",F,[n.cart.carts?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.cart.carts,t=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"dropdown-item pb-4 px-md-3 border-bottom d-flex mb-4",key:t.id},[Object(a["createElementVNode"])("a",S,[Object(a["createElementVNode"])("img",{src:t.product.imageUrl,alt:""},null,8,_)]),Object(a["createElementVNode"])("div",q,[Object(a["createElementVNode"])("div",I,[Object(a["createElementVNode"])("div",M,Object(a["toDisplayString"])(t.product.title),1)]),Object(a["createElementVNode"])("div",U,"NT$ "+Object(a["toDisplayString"])(t.product.price),1),Object(a["createElementVNode"])("div",$,[Object(a["createElementVNode"])("button",{type:"button",class:Object(a["normalizeClass"])(["btn btn-outline-toffee btn-sm",{disabled:t.qty<=1}]),onClick:c=>e.updateCart(t,t.qty--)},P,10,z),Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"number",class:"text-center form-control rounded-0 border-start-0 border-end-0 border-toffee","onUpdate:modelValue":e=>t.qty=e,disabled:t.id===n.status.loadingItem,onClick:c=>e.updateCart(t)},null,8,A),[[a["vModelText"],t.qty,void 0,{number:!0}]]),Object(a["createElementVNode"])("button",{type:"button",class:Object(a["normalizeClass"])(["btn btn-outline-toffee btn-sm",{disabled:t.qty>=10}]),onClick:c=>e.updateCart(t,t.qty++)},K,10,G)])]),Object(a["createElementVNode"])("div",Q,[Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-outline-toffee btn-sm",onClick:e=>l.deleteCart(t)},X,8,R)])]))),128)),Object(a["createElementVNode"])("div",Y,[Object(a["createElementVNode"])("div",Z,"總計: NT$ "+Object(a["toDisplayString"])(n.finalTotal),1)]),Object(a["createElementVNode"])("div",ee,[Object(a["createVNode"])(s,{to:"/cart",class:"btn btn-toffee w-100 d-block mb-3"},{default:Object(a["withCtx"])(()=>[te]),_:1}),Object(a["createVNode"])(s,{to:"/goods",class:"btn btn-outline-toffee w-100 d-block"},{default:Object(a["withCtx"])(()=>[ce]),_:1})])],64)):Object(a["createCommentVNode"])("",!0)]))])]),ae,Object(a["createElementVNode"])("div",oe,[Object(a["createElementVNode"])("ul",ne,[Object(a["createElementVNode"])("li",le,[Object(a["createVNode"])(s,{to:"/goods",class:"nav-link d-flex ps-3 active"},{default:Object(a["withCtx"])(()=>[re,se]),_:1})])])])])])])])])])],64)}var ie=c("c808"),be={inject:["emitter"],mixins:[ie["a"]],data(){return{cart:[],total:"",cartLength:"",finalTotal:"",status:{loadingItem:""},isLoading:!1}},methods:{getData(e){this.cartLength=e},deleteCart(e){const t="https://vue3-course-api.hexschool.io/api/anpo/cart/"+e.id;this.isLoading=!0,this.$http.delete(t).then(e=>{this.isLoading=!1,this.emitter.emit("deleteCartItem",this.cart),this.getCartProducts()})}},computed:{filterFavoriteLen(){const e=this.favorite;return[...new Set(e)]}},mounted(){this.emitter.on("getNum",e=>{this.cartLength=e}),this.emitter.on("getFinalTotal",e=>{this.finalTotal=e}),this.emitter.on("getCarts",e=>{this.cart=e}),this.emitter.on("formData",e=>{this.cartLength=0}),this.emitter.on("favorite",e=>{this.favorite=e}),this.getCartProducts()}},me=(c("c368"),c("d959")),je=c.n(me);const Oe=je()(be,[["render",de],["__scopeId","data-v-56e9ad1b"]]);var pe=Oe;const ue={class:"footer bg-brown pt-2 pb-2 text-center w-100"},ve=Object(a["createElementVNode"])("p",{class:"text-light mb-0 fw-light"},"本網站僅供個人作品使用，不提供商業用途。",-1),ge=[ve];function fe(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ue,ge)}const Ne={},Ve=je()(Ne,[["render",fe]]);var he=Ve,Ee=c("cfb9"),ke=c("f367"),xe={provide(){return{emitter:Ee["a"]}},components:{FrontNavBar:pe,Footer:he,ToastMessages:ke["a"]}};c("e1bd");const we=je()(xe,[["render",n]]);t["default"]=we},c368:function(e,t,c){"use strict";c("0d96")},e1bd:function(e,t,c){"use strict";c("5489")}}]);
//# sourceMappingURL=chunk-703f44d6.6fc34f64.js.map