{"version":3,"sources":["webpack:///./src/views/Cart.vue","webpack:///./src/views/Cart.vue?56fb"],"names":["class","_createElementVNode","_hoisted_17","_hoisted_21","_hoisted_25","for","type","_hoisted_52","_createVNode","_component_Loading","active","$data","_hoisted_4","_hoisted_8","carts","_createElementBlock","_Fragment","key","_renderList","item","id","src","product","imageUrl","alt","_toDisplayString","title","price","qty","onClick","_ctx","$event","disabled","loadingItem","$options","placeholder","aria-label","aria-describedby","_hoisted_31","_component_Form","onSubmit","errors","_hoisted_33","_component_Field","name","rules","user","email","_component_ErrorMessage","_hoisted_35","_hoisted_37","tel","_hoisted_39","address","_hoisted_41","rows","message","_hoisted_42","length","_hoisted_45","_createBlock","_component_swiper","slidesPerView","spaceBetween","autoplay","breakpoints","modules","_component_swiper_slide","_hoisted_48","inject","mixins","GoodsMixins","SwiperMixins","data","allProducts","cart","total","finalTotal","status","couponCode","form","recentWatched","JSON","parse","localStorage","getItem","isLoading","methods","deleteCart","api","this","$http","delete","then","res","getCartProducts","useCoupon","codeName","code","post","final_total","deleteStorage","removeItem","vm","setTimeout","scrollTop","window","scrollTo","top","behavior","computed","filterStorageItem","filter","includes","mounted","emitter","on","getAllProducts","__exports__","render"],"mappings":"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","file":"js/chunk-2d2102cc.c8060049.js","sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"page-body-padding container pb-7\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-lg-10 mt-5\">\n        <h1 class=\"text-center text-brown\">購物車</h1>\n        <div class=\"row justify-content-center mt-5 mb-md-5\">\n          <div class=\"col-lg-8\">\n            <div class=\"row process\">\n              <div class=\"col-4 text-maroon text-center pb-2 border-bottom border-5 border-maroon\">\n                <span>STEP 01</span>\n                <div class=\"fs-5 fw-bold mt-2 mb-2\">建立訂單</div>\n              </div>\n              <div class=\"col-4 text-maroon text-center pb-2 border-bottom border-5\">\n                <span>STEP 02</span>\n                <div class=\"fs-5 fw-bold mt-2 mb-2\">確認付款</div>\n              </div>\n              <div class=\"col-4 text-maroon text-center pb-2 border-bottom border-5\">\n                <span>STEP 03</span>\n                <div class=\"fs-5 fw-bold mt-2 mb-2\">完成訂單</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row justify-content-between pt-7\">\n          <div class=\"col-md-6 col-lg-5 text-brown mb-5 mb-md-0\">\n            <div class=\"h4 mb-4 text-center text-md-start\">訂購商品</div>\n            <template v-if=\"cart.carts\">\n              <div class=\"pb-4 px-md-3 border-bottom d-flex mb-4\" v-for=\"item in cart.carts\" :key=\"item.id\">\n                <div class=\"photo\">\n                  <img :src=\"item.product.imageUrl\" alt=\"\">\n                </div>\n                <div class=\"px-3 good-title\">\n                  <div class=\"text-line-height-48 mb-2\">\n                    <div class=\"text-2-line fw-bold\">{{item.product.title}}</div>\n                  </div>\n                  <div class=\"fw-bold mb-2\">NT$&nbsp;{{item.product.price}}</div>\n                  <div class=\"btn-group\">\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-toffee\"\n                      @click=\"updateCart(item, item.qty--)\"\n                      :class=\"{'disabled' : item.qty <= 1}\"\n                    >\n                      <i class=\"bi bi-dash-lg\"></i>\n                    </button>\n                    <input\n                      type=\"number\"\n                      class=\"text-center form-control rounded-0 border-start-0 border-end-0 border-toffee\"\n                      v-model.number=\"item.qty\"\n                      :disabled=\"item.id === status.loadingItem\"\n                      @click=\"updateCart(item)\"\n                    >\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-toffee\"\n                      @click=\"updateCart(item, item.qty++)\"\n                      :class=\"{'disabled' : item.qty >= 10}\"\n                    >\n                      <i class=\"bi bi-plus-lg\"></i>\n                    </button>\n                  </div>\n                </div>\n                <div class=\"fs-5 ms-auto\">\n                  <button type=\"button\" class=\"btn btn-outline-toffee btn-sm\" @click=\"deleteCart(item)\">\n                    <i class=\"bi bi-trash\"></i>\n                  </button>\n                </div>\n              </div>\n            </template>\n            <div class=\"input-group mb-3 pt-4 pb-4\">\n              <input type=\"text\" class=\"form-control\" placeholder=\"請輸入折扣碼\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" v-model=\"couponCode\">\n              <button class=\"btn btn-toffee\" type=\"button\" @click=\"useCoupon\">套用折價券</button>\n            </div>\n            <div class=\"text-end\">\n              <div class=\"fs-5 fw-bold\">總計:&nbsp;NT$&nbsp;{{finalTotal}}</div>\n            </div>\n          </div>\n          <div class=\"col-md-6 text-brown\">\n            <div class=\"h4 mb-4 text-brown text-center text-md-start mt-5 mt-md-0\">訂購人資訊</div>\n            <Form class=\"shadow p-4 mb-5 bg-body rounded\" @submit=\"createdOrder\" v-slot=\"{ errors }\">\n              <div class=\"mb-3\">\n                <label class=\"form-label fw-bold\" for=\"emil\">電子信箱\n                  <span class=\"text-danger\">*</span>\n                </label>\n                <Field name=\"email\" type=\"email\" class=\"form-control\"\n                        placeholder=\"請輸入電子信箱\"\n                        :class=\"{'is-invalid': errors['email'] }\"\n                        rules=\"email|required\"\n                        v-model=\"form.user.email\">\n                </Field>\n                <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"收件人姓名\" class=\"form-label fw-bold\">收件人姓名\n                  <span class=\"text-danger\">*</span>\n                </label>\n                <Field name=\"收件人姓名\" type=\"text\" class=\"form-control\"\n                        placeholder=\"請輸入收件人姓名\"\n                        :class=\"{'is-invalid': errors['收件人姓名'] }\"\n                        rules=\"required\"\n                        v-model=\"form.user.name\">\n                </Field>\n                <ErrorMessage name=\"收件人姓名\" class=\"invalid-feedback\"></ErrorMessage>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"收件人電話\" class=\"form-label fw-bold\">收件人電話\n                  <span class=\"text-danger\">*</span>\n                </label>\n                <Field name=\"收件人電話\" type=\"number\" class=\"form-control\"\n                        placeholder=\"請輸入收件人電話\"\n                        :class=\"{'is-invalid': errors['收件人電話']}\"\n                        rules=\"required\"\n                        v-model=\"form.user.tel\">\n                </Field>\n                <ErrorMessage name=\"收件人電話\" class=\"invalid-feedback\"></ErrorMessage>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"收件人地址\" class=\"form-label fw-bold\">收件人地址\n                  <span class=\"text-danger\">*</span>\n                </label>\n                <Field name=\"收件人地址\"  type=\"text\" class=\"form-control\"\n                        placeholder=\"請輸入收件人地址\"\n                        :class=\"{'is-invalid': errors['收件人地址']}\"\n                        rules=\"required\"\n                        v-model=\"form.user.address\">\n                </Field>\n                <ErrorMessage name=\"收件人地址\" class=\"invalid-feedback\"></ErrorMessage>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"message\" class=\"form-label fw-bold\">備註</label>\n                <textarea name=\"\" class=\"form-control\" rows=\"3\" v-model=\"form.message\"></textarea>\n              </div>\n              <div class=\"text-center mt-5\">\n                <button type=\"submit\" class=\"btn btn-toffee\">送出訂單</button>\n              </div>\n            </Form>\n          </div>\n          <div class=\"col-12 mt-md-5\" v-if=\"recentWatched.length !== 0\">\n            <div class=\"d-flex border-top  pt-5 justify-content-between align-center mb-4\">\n              <div class=\"h4 mb-0 text-brown\">瀏覽紀錄</div>\n              <button @click=\"deleteStorage\" type=\"button\" class=\"btn btn-sm btn-outline-toffee\">清除瀏覽紀錄</button>\n            </div>\n            <div class=\"goods row\">\n              <template v-if=\"recentWatched !== ''\">\n                <swiper\n                  :slidesPerView=\"1.7\"\n                  :spaceBetween=\"20\"\n                  :autoplay=\"{\n                    delay: 5000,\n                    disableOnInteraction: false,\n                  }\"\n                  :breakpoints=\"{\n                    '1200': {\n                      slidesPerView: 4,\n                      spaceBetween: 24,\n                    },\n                    '992': {\n                      slidesPerView: 3,\n                    },\n                    '768': {\n                      slidesPerView: 3,\n                    },\n                  }\"\n                  :modules=\"modules\"\n                  class=\"bookSwiper rounded-4 h-100 p-2\">\n                  <swiper-slide\n                    v-for=\"item in filterStorageItem\"\n                    :key=\"item.id\"\n                  >\n                    <div class=\"card h-100 position-relative\">\n                      <div class=\"btn-sm rounded-circle btn-toffee position-absolute top-0 end-0 m-2\">\n                        <i class=\"bi bi-bookmark text-white\"></i>\n                      </div>\n                      <a class=\"img-box\" @click=\"getProductId(item.id)\">\n                        <img :src=\"item.imageUrl\" class=\"card-img-top\" alt=\"...\">\n                      </a>\n                      <a @click=\"addToCart(item)\" class=\"add-to-cart d-block text-white text-center pt-1 pb-1 btn-toffee\"><i class=\"bi bi-cart3 me-2\"></i>加入購物車</a>\n                      <div class=\"card-body text-line-height\">\n                        <div class=\"h5 text-brown text-2-line\">{{item.title}}</div>\n                        <span class=\"text-maroon position-absolute bottom-0 pb-3\">NT$&nbsp;{{item.price}}</span>\n                      </div>\n                    </div>\n                  </swiper-slide>\n                </swiper>\n              </template>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport GoodsMixins from '@/mixins/goodsMixins'\nimport SwiperMixins from '@/mixins/swiperMixins'\nexport default {\n  inject: [\n    'emitter'\n  ],\n  mixins: [\n    GoodsMixins,\n    SwiperMixins\n  ],\n  data () {\n    return {\n      allProducts: [],\n      cart: [],\n      total: '',\n      finalTotal: '',\n      status: {\n        loadingItem: ''\n      },\n      couponCode: '',\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      },\n      recentWatched: JSON.parse(localStorage.getItem('recentWatched')) || [],\n      isLoading: false\n    }\n  },\n  methods: {\n    deleteCart (item) {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${item.id}`\n      this.$http.delete(api).then((res) => {\n        this.getCartProducts()\n      })\n    },\n    useCoupon () {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`\n      const codeName = {\n        code: this.couponCode\n      }\n      this.$http.post(api, { data: codeName }).then((res) => {\n        this.getCartProducts()\n        this.finalTotal = res.data.final_total\n      })\n    },\n    deleteStorage () {\n      this.isLoading = true\n      localStorage.removeItem('recentWatched')\n      this.recentWatched = []\n      const vm = this\n      setTimeout(() => {\n        this.isLoading = false\n        vm.scrollTop()\n      }, 2000)\n    },\n    scrollTop () {\n      window.scrollTo({ top: 0, behavior: 'smooth' })\n    }\n  },\n  computed: {\n    filterStorageItem () {\n      return this.allProducts.filter((item) => {\n        if (this.recentWatched.includes(item.id)) {\n          return item\n        }\n      })\n    }\n  },\n  mounted () {\n    this.emitter.on('formData', (data) => {\n      this.form = data\n    })\n    this.emitter.on('getCarts', (item) => {\n      this.cart = item\n    })\n    this.emitter.on('getFinalTotal', (finalTotal) => {\n      this.finalTotal = finalTotal\n    })\n    this.emitter.on('all', (item) => {\n      this.allProducts = item\n    })\n    this.emitter.on('recentWatch', (item) => {\n      this.recentWatched = item\n    })\n    this.getCartProducts()\n    this.getAllProducts()\n  }\n}\n</script>\n","import { render } from \"./Cart.vue?vue&type=template&id=604465c9\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/macintosh/Documents/vue3_2022/diving/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}