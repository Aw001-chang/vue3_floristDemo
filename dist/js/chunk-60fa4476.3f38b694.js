(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60fa4476"],{"23cd":function(t,e,c){},"6cf2":function(t,e,c){"use strict";c("8703")},8703:function(t,e,c){},b186:function(t,e,c){"use strict";c.r(e);var a=c("7a23");function s(t,e,c,s,n,o){const l=Object(a["K"])("FrontNavBar"),b=Object(a["K"])("router-view"),i=Object(a["K"])("ToastMessages"),r=Object(a["K"])("Footer");return Object(a["A"])(),Object(a["g"])("div",null,[Object(a["k"])(l),Object(a["k"])(b),Object(a["k"])(i),Object(a["k"])(r)])}var n=c("3568"),o=c.n(n);const l=t=>(Object(a["D"])("data-v-29f809cc"),t=t(),Object(a["B"])(),t),b={class:"bg-brown position-fixed w-100"},i={class:"container-lg"},r={class:"row justify-content-center"},d={class:"col-lg-10"},j={class:"navbar navbar-expand-sm navbar-dark pt-2 pb-2"},O={class:"container-fluid px-0"},h=l(()=>Object(a["h"])("img",{class:"logo me-2",src:o.a,alt:""},null,-1)),u=l(()=>Object(a["h"])("h1",null,"桂子飄香",-1)),f={class:"nav-item dropdown ms-auto order-sm-1 d-flex"},g={class:"position-relative me-2"},p=l(()=>Object(a["h"])("i",{class:"bi bi-bookmark me-1"},null,-1)),v={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},m=l(()=>Object(a["h"])("div",{class:"d-sm-block d-none"},"我的收藏",-1)),k={class:"nav-link d-flex text-white pe-2 pe-sm-0",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},x={class:"position-relative me-2"},w=l(()=>Object(a["h"])("i",{class:"bi bi-cart3 me-1"},null,-1)),y=["cartLength"],C=l(()=>Object(a["h"])("div",{class:"d-sm-block d-none"},"購物車",-1)),L={class:"dropdown-menu shadow-lg","aria-labelledby":"navbarDropdown"},T=l(()=>Object(a["h"])("div",{class:"border-bottom pb-2 px-3 text-toffee fw-bold fs-4 text-center"},"購物車",-1)),N={key:0},A=l(()=>Object(a["h"])("div",{class:"text-center mt-4 d-flex justify-content-center flex-column"},[Object(a["h"])("i",{class:"fs-1 bi bi-exclamation-triangle-fill text-black-50"}),Object(a["h"])("span",{class:"text-black-50"},"尚未選購商品")],-1)),D={class:"text-center mt-4 mb-3 px-3"},_=Object(a["j"])("選購商品"),F={key:1,class:"overflow-scroll"},q={href:"#",class:"photo"},K=["src"],X={class:"px-3 good-title"},I={class:"mb-2"},B={class:"text-1-line fw-bold"},U={class:"fw-bold mb-2"},$={class:"btn-group"},J=["onClick"],M=l(()=>Object(a["h"])("i",{class:"bi bi-dash-lg"},null,-1)),P=[M],S=["onUpdate:modelValue","disabled","onClick"],V=["onClick"],Y=l(()=>Object(a["h"])("i",{class:"bi bi-plus-lg"},null,-1)),z=[Y],E={class:"fs-5 ms-auto"},G=["onClick"],H=l(()=>Object(a["h"])("i",{class:"bi bi-trash"},null,-1)),Q=[H],R={class:"text-end px-3"},W={class:"fs-5 fw-bold"},Z={class:"text-center mt-4 mb-3 px-3"},tt=Object(a["j"])("前往結帳"),et=Object(a["j"])("繼續選購"),ct=l(()=>Object(a["h"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["h"])("span",{class:"navbar-toggler-icon"})],-1)),at={class:"collapse navbar-collapse",id:"navbarTogglerDemo02"},st={class:"navbar-nav ms-auto mt-sm-0 mt-3"},nt={class:"nav-item"},ot=l(()=>Object(a["h"])("div",{class:"position-relative me-2"},[Object(a["h"])("i",{class:"bi bi-shop-window"})],-1)),lt=l(()=>Object(a["h"])("div",null,"商品列表",-1));function bt(t,e,c,s,n,o){const l=Object(a["K"])("Loading"),M=Object(a["K"])("router-link");return Object(a["A"])(),Object(a["g"])(a["a"],null,[Object(a["k"])(l,{active:n.isLoading},null,8,["active"]),Object(a["h"])("div",b,[Object(a["h"])("div",i,[Object(a["h"])("div",r,[Object(a["h"])("div",d,[Object(a["h"])("nav",j,[Object(a["h"])("div",O,[Object(a["k"])(M,{to:"/user/home",class:"navbar-brand d-flex align-items-center"},{default:Object(a["X"])(()=>[h,u]),_:1}),Object(a["h"])("div",f,[Object(a["k"])(M,{to:"/user/favorite",class:"nav-link d-flex text-white pe-2 pe-sm-0"},{default:Object(a["X"])(()=>[Object(a["h"])("div",g,[p,Object(a["h"])("span",v,Object(a["N"])(o.filterFavoriteLen.length),1)]),m]),_:1}),Object(a["h"])("a",k,[Object(a["h"])("div",x,[w,0!==n.cartLength?(Object(a["A"])(),Object(a["g"])("span",{key:0,cartLength:n.cartLength,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},Object(a["N"])(n.cartLength),9,y)):Object(a["f"])("",!0)]),C]),Object(a["h"])("div",L,[T,0===n.cartLength?(Object(a["A"])(),Object(a["g"])("div",N,[A,Object(a["h"])("div",D,[Object(a["k"])(M,{to:"/user/goods",class:"btn btn-toffee w-100 d-block"},{default:Object(a["X"])(()=>[_]),_:1})])])):(Object(a["A"])(),Object(a["g"])("div",F,[n.cart.carts?(Object(a["A"])(),Object(a["g"])(a["a"],{key:0},[(Object(a["A"])(!0),Object(a["g"])(a["a"],null,Object(a["I"])(n.cart.carts,e=>(Object(a["A"])(),Object(a["g"])("div",{class:"dropdown-item pb-4 px-md-3 border-bottom d-flex mb-4",key:e.id},[Object(a["h"])("a",q,[Object(a["h"])("img",{src:e.product.imageUrl,alt:""},null,8,K)]),Object(a["h"])("div",X,[Object(a["h"])("div",I,[Object(a["h"])("div",B,Object(a["N"])(e.product.title),1)]),Object(a["h"])("div",U,"NT$ "+Object(a["N"])(e.product.price),1),Object(a["h"])("div",$,[Object(a["h"])("button",{type:"button",class:Object(a["s"])(["btn btn-outline-toffee btn-sm",{disabled:e.qty<=1}]),onClick:c=>t.updateCart(e,e.qty--)},P,10,J),Object(a["Y"])(Object(a["h"])("input",{type:"number",class:"text-center form-control rounded-0 border-start-0 border-end-0 border-toffee","onUpdate:modelValue":t=>e.qty=t,disabled:e.id===n.status.loadingItem,onClick:c=>t.updateCart(e)},null,8,S),[[a["S"],e.qty,void 0,{number:!0}]]),Object(a["h"])("button",{type:"button",class:Object(a["s"])(["btn btn-outline-toffee btn-sm",{disabled:e.qty>=10}]),onClick:c=>t.updateCart(e,e.qty++)},z,10,V)])]),Object(a["h"])("div",E,[Object(a["h"])("button",{type:"button",class:"btn btn-outline-toffee btn-sm",onClick:t=>o.deleteCart(e)},Q,8,G)])]))),128)),Object(a["h"])("div",R,[Object(a["h"])("div",W,"總計: NT$ "+Object(a["N"])(n.finalTotal),1)]),Object(a["h"])("div",Z,[Object(a["k"])(M,{to:"/user/cart",class:"btn btn-toffee w-100 d-block mb-3"},{default:Object(a["X"])(()=>[tt]),_:1}),Object(a["k"])(M,{to:"/user/goods",class:"btn btn-outline-toffee w-100 d-block"},{default:Object(a["X"])(()=>[et]),_:1})])],64)):Object(a["f"])("",!0)]))])]),ct,Object(a["h"])("div",at,[Object(a["h"])("ul",st,[Object(a["h"])("li",nt,[Object(a["k"])(M,{to:"/user/goods",class:"nav-link d-flex px-3 active"},{default:Object(a["X"])(()=>[ot,lt]),_:1})])])])])])])])])])],64)}var it=c("c808"),rt={inject:["emitter"],mixins:[it["a"]],data(){return{cart:[],total:"",cartLength:"",finalTotal:"",status:{loadingItem:""},isLoading:!1}},methods:{getData(t){console.log("len:",t),this.cartLength=t},deleteCart(t){const e="https://vue3-course-api.hexschool.io/api/anpo/cart/"+t.id;this.isLoading=!0,this.$http.delete(e).then(t=>{this.isLoading=!1,this.emitter.emit("deleteCartItem",this.cart),this.getCartProducts()})}},computed:{filterFavoriteLen(){const t=this.favorite;return[...new Set(t)]}},mounted(){this.emitter.on("getNum",t=>{this.cartLength=t}),this.emitter.on("getFinalTotal",t=>{this.finalTotal=t}),this.emitter.on("getCarts",t=>{this.cart=t}),this.emitter.on("formData",t=>{this.cartLength=0}),this.emitter.on("favorite",t=>{this.favorite=t}),this.getCartProducts()}},dt=(c("6cf2"),c("d959")),jt=c.n(dt);const Ot=jt()(rt,[["render",bt],["__scopeId","data-v-29f809cc"]]);var ht=Ot;const ut={class:"footer bg-brown pt-2 pb-2 text-center"},ft=Object(a["h"])("p",{class:"text-light mb-0 fw-light"},"本網站僅供個人作品使用，不提供商業用途。",-1),gt=[ft];function pt(t,e){return Object(a["A"])(),Object(a["g"])("div",ut,gt)}const vt={},mt=jt()(vt,[["render",pt]]);var kt=mt,xt=c("cfb9"),wt=c("f367"),yt={provide(){return{emitter:xt["a"]}},components:{FrontNavBar:ht,Footer:kt,ToastMessages:wt["a"]}};c("ff90");const Ct=jt()(yt,[["render",s]]);e["default"]=Ct},ff90:function(t,e,c){"use strict";c("23cd")}}]);
//# sourceMappingURL=chunk-60fa4476.3f38b694.js.map